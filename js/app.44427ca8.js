(function(t){function e(e){for(var o,i,c=e[0],r=e[1],l=e[2],u=0,f=[];u<c.length;u++)i=c[u],s[i]&&f.push(s[i][0]),s[i]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);d&&d(e);while(f.length)f.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,c=1;c<a.length;c++){var r=a[c];0!==s[r]&&(o=!1)}o&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var o={},s={app:0},n=[];function i(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/vue-todolist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=r;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var o=a("2b0e"),s=(a("4989"),a("bc3a")),n=a.n(s),i=a("a7fe"),c=a.n(i),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"jumbotron jumbotron-fluid bg-image mb-0"},[a("div",{staticClass:"container pl-4"},[a("h1",{staticClass:"h4 pt-2"},[t._v("Hi，完成任務了嗎？")]),a("p",{staticClass:"lead"},[t._v(t._s(t.today))])])]),a("nav",{staticClass:"navbar navbar-light bg-info"},[a("ul",{staticClass:"nav nav-pills mr-auto ml-auto"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link mr-4",class:{active:"all"===t.currentPage},attrs:{href:"#"},on:{click:function(e){t.currentPage="all"}}},[t._v("我的任務")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link mr-4",class:{active:"progress"===t.currentPage},attrs:{href:"#"},on:{click:function(e){t.currentPage="progress"}}},[t._v("進行中")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"completed"===t.currentPage},attrs:{href:"#"},on:{click:function(e){t.currentPage="completed"}}},[t._v("已完成")])])])]),a("div",{staticClass:"container"},[!1===t.isNewTodo?a("div",{staticClass:"todo-wrap mt-3 d-flex"},[a("div",{staticClass:"h5 text-dark d-flex align-items-center mb-0"},[t._v("有什麼計畫？")]),a("a",{staticClass:"btn btn-primary text-white ml-auto",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.isNewTodo=!0}}},[t._v("新增任務")])]):t._e(),!0===t.isNewTodo?a("EditItem",{attrs:{getTodos:t.todos},on:{closeEditTodo:t.closeEdit,getNewData:t.updateData}}):t._e(),a("draggable",{attrs:{options:{handle:".handle"}},on:{end:t.dragItem},model:{value:t.todos,callback:function(e){t.todos=e},expression:"todos"}},t._l(t.todos,function(e){return"all"===t.currentPage||t.currentPage==e.completed?a("div",{key:e.id},[a("TodoItem",{attrs:{todo:e},on:{getNewData:t.updateData,editCurrentTodo:t.openEdit}}),t.currentEdit.id===e.id?a("EditItem",{attrs:{todo:t.currentEdit},on:{closeEditTodo:t.closeEdit,getNewData:t.updateData}}):t._e()],1):t._e()}),0)],1)])},l=[],d=(a("7514"),a("ac6a"),a("55dd"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"todo-wrap mt-3"},[!0===t.todo.display?a("div",{staticClass:"todo-item p-4 pl-5 pr-5 border",class:{stared:t.todo.stared,"bg-white":!t.todo.stared}},[t._m(0),a("div",{staticClass:"text-muted delete-item",on:{click:t.deleteData}},[a("i",{staticClass:"fas fa-times"})]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"d-flex align-items-center"},[a("a",{staticClass:"mr-3",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.updateCompleted(e)}}},["progress"===t.todo.completed?a("i",{staticClass:"far fa-square fa-2x"}):t._e(),"completed"===t.todo.completed?a("i",{staticClass:"far fa-check-square fa-2x text-primary"}):t._e()])]),a("div",[a("div",{staticClass:"h3 text-dark",class:{completed:"completed"===t.todo.completed}},[t._v(t._s(t.todo.message))]),a("div",{staticClass:"text-muted"},[a("i",{staticClass:"far fa-calendar-alt mr-1"}),a("span",{staticClass:"mr-4"},[t._v(t._s(t.todo.endDate))]),a("i",{staticClass:"far fa-comment"}),a("span",{staticClass:"ml-1"},[t._v(t._s(t.todo.comment))])])]),a("div",{staticClass:"ml-auto d-flex align-items-center"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.updateStar(e)}}},[t.todo.stared?a("i",{staticClass:"fas fa-star fa-2x mr-3 text-primary"}):a("i",{staticClass:"far fa-star fa-2x mr-3 text-primary"})]),a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fas fa-pencil-alt fa-2x",on:{click:function(e){e.preventDefault(),t.editTodo(t.todo.id)}}})])])])]):t._e()])])}),u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-muted handle"},[a("i",{staticClass:"fas fa-ellipsis-v"})])}],f=a("be94"),p={props:["todo"],data:function(){return{}},methods:{updateStar:function(){var t=this,e="http://localhost:5000/todos/".concat(t.todo.id),a=Object(f["a"])({},t.todo);console.log(a),a.stared=!t.todo.stared,t.$http.put(e,a).then(function(e){console.log(e.data),t.getData()})},updateCompleted:function(){var t=this,e="http://localhost:5000/todos/".concat(t.todo.id),a=Object(f["a"])({},t.todo);console.log(a),"progress"===a.completed?a.completed="completed":a.completed="progress",t.$http.put(e,a).then(function(e){console.log(e.data),t.getData()})},deleteData:function(){var t=this,e="http://localhost:5000/todos/".concat(t.todo.id),a=Object(f["a"])({},t.todo);a.display=!1,t.$http.put(e,a).then(function(e){console.log(e.data),t.getData()})},editTodo:function(t){this.$emit("editCurrentTodo",t)},getData:function(){this.$emit("getNewData")}}},m=p,h=a("2877"),v=Object(h["a"])(m,d,u,!1,null,null,null);v.options.__file="TodoItem.vue";var g=v.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"edit-wrap mt-3"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cacheTodo.message,expression:"cacheTodo.message"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入待辦事項"},domProps:{value:t.cacheTodo.message},on:{input:function(e){e.target.composing||t.$set(t.cacheTodo,"message",e.target.value)}}})]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"text-left edit-col"},[a("i",{staticClass:"far fa-calendar-alt mr-2 font-awesome-size"}),a("label",{attrs:{for:""}},[t._v("Deadline")]),a("div",{staticClass:"form-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cacheTodo.endDate,expression:"cacheTodo.endDate"}],staticClass:"form-control border-0 ml-2",attrs:{type:"date"},domProps:{value:t.cacheTodo.endDate},on:{input:function(e){e.target.composing||t.$set(t.cacheTodo,"endDate",e.target.value)}}})])]),a("div",{staticClass:"text-left edit-col"},[a("i",{staticClass:"far fa-comment mr-2"}),a("label",{attrs:{for:"comment"}},[t._v("Comment")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cacheTodo.comment,expression:"cacheTodo.comment"}],staticClass:"form-control w-100",attrs:{id:"comment",name:""},domProps:{value:t.cacheTodo.comment},on:{input:function(e){e.target.composing||t.$set(t.cacheTodo,"comment",e.target.value)}}})])]),a("div",{staticClass:"card-footer p-0 border-0"},[a("div",{staticClass:"d-flex"},[a("button",{staticClass:"btn btn-light w-50 edit-btn text-white",on:{click:t.closeTodo}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary w-50 edit-btn text-white",on:{click:t.updateTodo}},[t._v("儲存")])])])])])])},C=[],_={props:["todo"],data:function(){return{cacheTodo:{},isNew:!1}},methods:{updateTodo:function(){var t=this,e=Object(f["a"])({},t.cacheTodo,{display:!0,completed:"progress",stared:!1});if(t.isNew){var a="http://localhost:5000/todos";t.$http.post(a,e).then(function(e){console.log(e.data),t.closeTodo(),t.getData()})}else{var o="http://localhost:5000/todos/".concat(t.todo.id);t.$http.put(o,e).then(function(e){console.log(e),t.closeTodo(),t.getData()})}},closeTodo:function(){this.$emit("closeEditTodo")},getData:function(){this.$emit("getNewData")}},created:function(){this.todo?this.cacheTodo=Object(f["a"])({},this.todo):this.isNew=!0}},T=_,w=Object(h["a"])(T,b,C,!1,null,null,null);w.options.__file="EditItem.vue";var x=w.exports,D=a("1516"),y=a.n(D),E={name:"App",components:{TodoItem:g,EditItem:x,draggable:y.a},data:function(){return{isNewTodo:!1,todos:[],sortData:[],currentPage:"all",currentEdit:{}}},methods:{closeEdit:function(){this.isNewTodo=!1,this.currentEdit={}},getData:function(){var t=this,e="http://localhost:5000/todos",a="http://localhost:5000/sort",o=[];t.todos=[],t.$http.get(e).then(function(e){return console.log(e.data),o=e.data,t.$http.get(a)}).then(function(e){console.log(e),t.sortData=e.data.sort,t.sortData?(t.sortData.forEach(function(e){console.log(o);var a=o.find(function(t){return t.id===e});t.todos.push(a)}),o.forEach(function(e){var a=t.sortData.some(function(t){return e.id===t});a||t.todos.push(e)})):t.todos=o})},dragItem:function(){var t=this,e="http://localhost:5000/sort",a=t.todos.map(function(t){return t.id});console.log(a),t.$http.post(e,{sort:a}).then(function(t){console.log(t.data)})},openEdit:function(t){var e=this;e.isNewTodo=!1,e.currentEdit=e.todos.find(function(e){return e.id===t})},updateData:function(){this.getData(),this.currentEdit={}}},computed:{today:function(){var t=new Date,e=["日","一","二","三","四","五","六"],a=t.getDay();return"".concat(t.getFullYear(),"年").concat(t.getMonth()+1,"月").concat(t.getDate(),"日 星期").concat(e[a])},completedTodoLen:function(){var t=this;console.log(t.todos)}},created:function(){this.getData()}},k=E,$=(a("5c0b"),Object(h["a"])(k,r,l,!1,null,null,null));$.options.__file="App.vue";var j=$.exports,O=a("8c4f"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},N=[],I={},S=Object(h["a"])(I,P,N,!1,null,null,null);S.options.__file="Home.vue";S.exports;o["a"].use(O["a"]);var M=new O["a"]({routes:[]});o["a"].config.productionTip=!1,o["a"].use(c.a,n.a),new o["a"]({router:M,render:function(t){return t(j)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var o=a("5e27"),s=a.n(o);s.a},"5e27":function(t,e,a){}});
//# sourceMappingURL=app.44427ca8.js.map